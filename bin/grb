#!/usr/bin/env ruby

# Check out the README (or try grb -h) before you screw up your repos ;-)

require File.expand_path( File.join( [File.dirname(__FILE__)] + %w{ .. lib git_remote_branch } ) )

print_welcome

if p[:action] == :help
  print_usage
  exit
end

#TODO error message here, exit 1
exit if p[:current_branch].nil?

case p[:action]
  when :create
    create_branch(p[:branch], p[:origin], p[:current_branch])
  when :delete
    delete_branch(p[:branch], p[:origin], p[:current_branch])
  when :track
    track_branch(p[:branch], p[:origin])
  else
    print_usage
end
